<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistive Tech Mock Up</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" />
</head>
<body>
    <script type="text/javascript" src="/eel.js"></script>
    <div id="underlay">
        <div id="top-row" class="underlay-row">
            <div id="p1-emu" class="underlay-tile">ONE</div>
            <div id="p2-emu" class="underlay-tile">TWO</div>
        </div>
        <div id="bot-row" class="underlay-row">
            <div id="p3-emu" class="underlay-tile">THREE</div>
            <div id="p4-emu" class="underlay-tile">FOUR</div>
        </div>

    </div>

    <!-- Plug Menu -->
    <div id="overlay">
        <div id="plug-menu" class="body-container">
            <button 
                id="plug-one" 
                class="button-default plug-button"
                onclick="setOnOff('p1-emu')">
                PLUG 1
            </button>
            <button 
                id="plug-two" 
                class="button-default plug-button"
                onclick="setOnOff('p2-emu')">
                PLUG 2
            </button>
            <button 
                id="plug-three" 
                class="button-default plug-button"
                onclick="setOnOff('p3-emu')">
                PLUG 3
            </button>
            <button 
                id="plug-four" 
                class="button-default plug-button"
                onclick="setOnOff('p4-emu')">
                PLUG 4
            </button>
            <button id="menu-button" class="button-default plug-button">MENU</button>
        </div>
        
        <!-- Plug submenu -->
        <div id="plug-submenu" class="body-container  hidden">
            <button id="plug-on" class="button-default on-off-cancel-button">ON</button>
            <button id="plug-off" class="button-default on-off-cancel-button">OFF</button>
            <button id="plug-cancel" class="button-default on-off-cancel-button">BACK</button>
        </div>
    </div>
    



    <!-- <div id="main-window" class="body-container"></div> -->
<script>
let submenu = document.getElementById('plug-submenu')
let on = document.getElementById('plug-on')
let off = document.getElementById('plug-off')
let pcan = document.getElementById('plug-cancel')


const BGColors = {
    'p1-emu':'red',
    'p2-emu':'purple',
    'p3-emu':'orange',
    'p4-emu':'green'
}


const setOnOff = (gridID) => {
    const ele = document.getElementById(gridID)
    on.onclick =  () => {
        ele.style.backgroundColor = BGColors[gridID]
        eel.ToggleOn(gridID)
    }

    off.onclick = () => {
        ele.style.backgroundColor = 'black'
        eel.ToggleOff(gridID)
    }
    pcan.onclick = () => submenu.classList.add('hidden')
    submenu.classList.remove('hidden')
}
</script>
</body>
</html>